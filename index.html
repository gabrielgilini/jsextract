<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <title>Extract Test</title>
        <style>
            .pic {
                float: left;
                width: 120px;
                height: 120px;
                text-align: center;
                font-size: 12px;
                padding: 10px;
                background-color: #FFFFFF;
            }

            .pic img {
                margin: 0 auto;
            }
        </style>
        <script type="text/javascript" src="extract.js"></script>
        <script type='text/javascript'>
            function jsonFlickrApi(data){
                window.fInfo = {
                    'ids': extract('id', data.photos.photo),
                    'farms': extract('farm', data.photos.photo),
                    'titles': extract('/title', data.photos.photo),
                    'servers': extract('server', data.photos.photo),
                    'secrets': extract('/secret', data.photos.photo),
                };
            }

            function appendPics(){
                var r = document.getElementById('results');
                var out = '';
                for(var i = 0, l = window.fInfo.ids.length; i < l; ++i){
                    out+= '<div class="pic"><img src="http://farm'+
                            window.fInfo.farms[i] + '.static.flickr.com/' +
                            window.fInfo.servers[i] + '/' + window.fInfo.ids[i] + '_' +
                            window.fInfo.secrets[i] + '_s.jpg"><p>' +
                            window.fInfo.titles[i] + '</p></div>';
                }
                r.innerHTML = out;
            }
        </script>
        <script type="text/javascript" src="http://api.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=d6b0504353f5e2802b062845f5b8b65a&format=json"></script>
    </head>
    <body onload='appendPics()'>
        <div id="results">
        </div>
    </body>
</html>
